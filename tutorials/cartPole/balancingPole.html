<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>PD-controllers</title>
    <link rel="stylesheet" type="text/css" href="../style.css" />
    <link rel="stylesheet" type="text/css" href="cartStyles.css" />
    <script src="http://d3js.org/d3.v2.min.js?2.10.0"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ tex2jax: { inlineMath: [["$","$"],["\\(","\\)"]] }, jax: ["input/TeX","output/HTML-CSS"], displayAlign: "left" });
    </script>



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-64560597-1', 'auto');
  ga('send', 'pageview');

</script>

</head>

<body>
    <div class="header">
        <h1>Balance the Pole</h1>
        <ul>
            <li><a href="../../index.html">home</a></li>
            <li><a href="../../research/index.html">research</a></li>
            <li><a href="../../tutorials/index.html">tutorials</a></li>
            <li><a href="../../code/index.html">code</a></li>
        </ul>
    </div>

    <div id="pdColumn2">
        <div align="center">
            <svg id="panelPtMass" style="width: 800px; height: 400px;">
                <circle id="poleMass" class="circle" r="8" z-index="-1" />
                <rect id="cart" class="cart" class="circle" width="50" height="20" />
                <line id="pole" class="line" x1="0" y1="0" x2="200" y2="200" style="stroke:rgb(0,0,0);stroke-width:4" />
            </svg>
            <br>
            <svg id="panelTwo" style="width: 800px; height: 150px;">
                <line id="kpRail" class="sliderRail" x1="160" x2="300" y1="30" y2="30" />
                <text x="10" y="30" fill="black" dominant-baseline="central" class="sliderLabel">Kp:</text>
                <circle id="kpCircle" class="handle" class="circle" r="14" />
                <text id="kpLabel" x="30" y="55" fill="black" text-anchor="middle" dominant-baseline="central">0.00</text>
                <line id="kdRail" class="sliderRail" x1="160" x2="300" y1="100" y2="100" />
                <text x="10" y="100" fill="black" dominant-baseline="central" class="sliderLabel">Kd:</text>
                <circle id="kdCircle" class="handle" class="circle" r="14" />
                <text id="kdLabel" x="0" y="125" fill="black" text-anchor="middle" dominant-baseline="central">0.00</text>

            </svg>
        </div>
        <br>


    </div>

    <div id="pdColumn1">
        <div align="right">
            <button type="button" onclick="resetPendulum()">Reset</button>
            <br><br>

            <div> $\theta = $
                <pre style="display: inline"> <b id="ThetaValue"></b></pre>
            </div>

            <div id="whatIsGoingOnField" class="whatIsGoingOnText"></div>

            <div id="juicyDetails" style="display:none">The <b>Controller</b> is the rule for the force we apply to the cart.
                <br>If the pendulum is falling to the right we want to accelerate right. The further from vertical,
                the faster we want to accelerate.
                $${\ddot{x}_{cart} = K_p * \theta}$$
                With just <b>Proportional</b> control we overshoot a lot. The <b>Derivative</b> terms helps to dampen
                the motion, acting like a viscous fluid.
                $${\ddot{x}_{cart} = K_p * \theta} - K_d * \dot{x}$$
            </div>

            <button class="whatIsGoingOnButton" onclick="whatIsGoingOn.update(this)">What's going on?</button>
        </div>
    </div>

    <div id="pdColumn3">
        <div id="setValuesDiv" style="visibility:hidden">
            <button type="button" onclick="setExampleParams(12.5, 1.1)">Give me okay values!</button>
            <br><br>
            <button type="button" onclick="setExampleParams(40,4)">Give me good values!</button>
            <br><br>
        </div>
        <div id="addNoiseDiv"style="visibility:hidden">
            <input id="anyNoiseCheckbox" type="checkbox" onchange="toggles.changeNoise()" autocomplete="off">Add
            Noise<br>

            <div id="noiseDiv" style="visibility:hidden; margin-left:30px;">
                <input id="randomCheckbox" type="checkbox" onchange="toggles.changeNoise()">Random<br>
                <input id="systematicCheckbox" type="checkbox" onchange="toggles.changeNoise()">Systematic<br>
            </div>
        </div>
        <br>
        <br>

        <div id="extraButtonsDiv"style="visibility:hidden">
            <button id="pauseControllerButton" type="button">Pause Controller</button>
            <button type="button" onclick="disturb()">Disturb</button>
        </div>

    </div>
</body>
<script src="../numericalIntegration.js"></script>
<script src="../SliderUtils.js"></script>
<script src="reusableUI.js"></script>
<script src="cartPole.js"></script>
<script src="cartController.js"></script>
<script src="balancingPole.js"></script>
