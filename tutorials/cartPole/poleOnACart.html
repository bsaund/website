<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>PD-controllers</title>
    <link rel="stylesheet" type="text/css" href="../style.css" />
    <link rel="stylesheet" type="text/css" href="cartStyles.css" />
    <script src="http://d3js.org/d3.v2.min.js?2.10.0"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ tex2jax: { inlineMath: [["$","$"],["\\(","\\)"]] }, jax: ["input/TeX","output/HTML-CSS"], displayAlign: "left" });
    </script>





</head>

<body>
    <div class="header">
        <h1>Pole on a Cart</h1>
        <ul>
            <li><a href="../../index.html">home</a></li>
            <li><a href="../../research/index.html">research</a></li>
            <li><a href="../../tutorials/index.html">tutorials</a></li>
            <li><a href="../../code/index.html">code</a></li>
        </ul>
    </div>


    <div id="pdColumn2">
        <div align="center">
            <svg id="panelPtMass" style="width: 800px; height: 400px;">
                <circle id="poleMass" class="circle" r="8" z-index="-1"/>
                <rect id="cart" class="handle" class="circle" width="50" height="20"/>
                <line id="pole" class="line" x1="0" y1="0" x2="200" y2="200" style="stroke:rgb(0,0,0);stroke-width:4"/>
            </svg>
            <br>
            <svg id="panelTwo" style="width: 800px; height: 150px;">
                <line id="dampingRail" class="sliderRail" x1="160" x2="300" y1="30" y2="30"/>
                <text x="10" y="30" fill="black" dominant-baseline="central" class="sliderLabel">Pendulum Damping:
                </text>
                <circle id="dampingCircle" class="handle" class="circle" r="14"/>
                <text id="dampingLabel" x="30" y="55" fill="black" text-anchor="middle" dominant-baseline="central">
                    0.00
                </text>
                <line id="gravityRail" class="sliderRail" x1="160" x2="300" y1="100" y2="100"/>
                <text x="10" y="100" fill="black" dominant-baseline="central" class="sliderLabel">Gravity:</text>
                <circle id="gravityCircle" class="handle" class="circle" r="14"/>
                <text id="gravityLabel" x="0" y="125" fill="black" text-anchor="middle" dominant-baseline="central">
                    0.00
                </text>

            </svg>
        </div>
        <br>

        <div class="nextButton">
            <a href="balancingPole.html">Next: Add a control loop</a><br><br>
        </div>


    </div>
    <div id="pdColumn1">

        <div align="right">

            <h3><b id="notBalanced" style="color:grey">Not </b>
                <b id="balanced" style="color:grey">Balanced</b><b id="balancedExclaimationPoint"
                                                                   style="color:grey">!</b></h3>

            <div id="whatIsGoingOnField" class="whatIsGoingOnText"></div>

            <div id="juicyDetails" style="display:none">You control the cart's position directly but the mass is moved by three forces: The force of the connecting pole (modelled as a very strong spring), viscous damping, and gravity.
                $${\vec{F_{pole}} = \{K_{p\_spring} (r_0 - r) - K_{d\_spring} \dot{r} \}\hat{r}}$$
                $${\vec{F_{viscous}} = -K_{d\_rotation} \dot{\theta} \hat{\theta}}$$
                $${\vec{F_{gravity}} = m \vec{g}}$$
                We <a href="../quadrature/index.html">numerically integrate</a>
                using the <a href="https://en.wikipedia.org/wiki/Runge%E2%80%93Kutta_methods">Runge-Kutta method</a>
                to get the position.
                <br><br>
                You can find the full equations of motion for a cart-pole system
                <a href='../cartPole.html'>here</a>, though this system assumes a large cart mass, so it is substantially simpler</div>
            <button class="whatIsGoingOnButton" onclick="whatIsGoingOn.update(this)">What's going on?</button>
        </div>
    </div>
    <div id="pdColumn3">

    </div>
</body>
<script src="../numericalIntegration.js"></script>
<script src="../SliderUtils.js"></script>
<script src="reusableUI.js"></script>
<script src="cartPole.js"></script>
<script src="poleOnACart.js"></script>